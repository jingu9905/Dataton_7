# 필수 라이브러리 정리
import streamlit as st  # Streamlit 웹 애플리케이션 프레임워크
import pandas as pd  # 데이터 처리 및 분석을 위한 라이브러리
import numpy as np  # 수치 연산 및 배열 계산을 위한 라이브러리
import time  # 시간 제어 및 지연을 위한 기본 라이브러리
import pickle  # 머신러닝 모델 저장 및 로드를 위한 라이브러리
import joblib  # 머신러닝 모델 저장 및 로드 (Pickle의 대안)
import plotly.express as px  # 대화형 데이터 시각화를 위한 라이브러리
from streamlit_echarts import st_echarts  # Echarts 기반의 데이터 시각화 지원
import os  # 운영 체제 작업 (파일 경로, 디렉토리 작업 등)
import base64  # 데이터 인코딩 및 디코딩 (파일 다운로드 링크 생성 등에 사용)
import streamlit.components.v1 as components  # HTML/CSS/JS를 삽입하여 Streamlit 확장


# 페이지 설정
st.set_page_config(
    page_title="데이터톤 프로젝트",
    page_icon="⚾",  # 원하는 아이콘
    layout="wide"
)



# 사이드바 상단에 제목 추가
with st.sidebar:
    st.markdown(
        """
        <style>
        [data-testid="stSidebar"]::before {
            content: "⚾ 7조 데이터톤 프로젝트";
            font-size: 20px;
            font-weight: bold;
            margin-left: 10px;
            margin-top: 10px;
            display: block;
            color: #333333;
        }
        </style>
        """,
        unsafe_allow_html=True,
    )


# 메인 페이지 내용
st.title("[멋쟁이 사자처럼🦁 X 데이터분석 3기 '7조'👨‍💻 데이터톤 프로젝트: MLB팀 성과 분석과 예측 서비스 플랫폼]")
st.markdown("""
이 프로젝트는 MLB 팀의 성과를 데이터로 분석하고, 주요 성과 지표를 바탕으로 **포스트시즌 진출 가능성 예측**, 
**팀 비교 분석**, **전략 제안** 등의 기능을 제공합니다.

스포츠 데이터를 활용하여 직관적이고 유용한 통찰을 제공하는 것을 목표로 설계되었습니다.
""")

# 주요 기능
st.header("🔑 주요 기능")
st.markdown("""
1. **데이터 입력과 예측**: 팀의 주요 지표를 입력하면 머신러닝 모델이 포스트시즌 진출 가능성을 예측합니다.
2. **성과 지표 시각화**: 레이더 차트를 통해 팀의 강점과 약점을 한눈에 파악합니다.
3. **팀 비교 분석**: 동일 리그 내에서 두 팀의 주요 성과 지표를 비교하여 상대적 우위를 시각적으로 분석합니다.
4. **간단 분석 제공**: 예측 결과와 함께 팀의 성과를 개선하기 위한 제안을 제공합니다.
5. **커스터마이즈 가능**: 사용자가 원하는 변수와 데이터를 추가로 활용하여 팀 전략을 최적화할 수 있습니다.
""")

# 사용법 안내
st.header("🛠️ 사용법 안내")
st.markdown("""
1. **사이드바에서 선택**: 연도, 리그, 팀을 선택하여 원하는 데이터를 필터링하세요.
2. **데이터 입력**: 주요 지표(승률, 홈런, 실점 등)를 입력하여 포스트시즌 진출 가능성을 예측합니다.
3. **결과 확인**: 예측 결과와 간단 분석을 통해 팀의 강점 및 약점을 확인하세요.
4. **비교 분석**: 두 팀을 선택해 성과를 비교하고 상대적 우위를 파악하세요.
""")

# 프로젝트 비전
st.header("🚀 프로젝트 비전")
st.markdown("""
스포츠 데이터 분석을 활용하여 MLB 구단의 전략 수립을 지원하고, 보다 효율적인 의사결정을 돕는 것을 목표로 합니다. 향후에는:
- **선수별 성과 분석**
- **경기 중 실시간 예측**
- **다양한 스포츠 종목 확장**
으로 프로젝트를 발전시킬 계획입니다.
""")

# 사이드바 메뉴 생성
st.sidebar.title("메인")
menu = st.sidebar.radio(
    "원하는 항목을 선택하세요:",
    (
        "🔬 구단을 위한 완벽한 데이터 실험실, 바랩(BALAB)",
        "⚾ 올해엔 가을야구 가능할까(포스트시즌 진출 여부)",
        "💰 올해는 얼마나 받을 수 있을까(선수 연봉 예측)",
        "🏃 언제까지 뛸 수 있을까(선수 커리어 예측)",
        "📋 우리 팀의 부족한 점은 무엇일까(야구 팀 평가)",
        "🤔 우리 팀의 부족한 점은 무엇일까(야구 팀 비교&평가)",
    )
)


